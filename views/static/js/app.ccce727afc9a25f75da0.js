webpackJsonp([1],{"/K78":function(t,e){},"0nT7":function(t,e,a){t.exports=a.p+"static/img/group.aefec98.jpg"},AmMF:function(t,e){},BFbI:function(t,e){},Ba8g:function(t,e){},DGRM:function(t,e){},EPV5:function(t,e){},FAEe:function(t,e){},JqyW:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},i,!1,function(t){a("Q4qa")},null,null).exports,o=a("/ocq"),r={name:"home",data:function(){return{login:"oneChooseOne",register:"chooseOne"}},methods:{loginRoute:function(){this.login="oneChooseOne",this.register="chooseOne"},registerRoute:function(){this.login="chooseOne",this.register="oneChooseOne"}},mounted:function(){$(".demo3 ").animatext()}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"head_",staticStyle:{"text-align":"left"}},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:a("ZBJ4")}}),t._v(" "),s("div",{staticClass:"headRight"},[s("span",[t._v("基本版 | English")])])])])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"body_"},[s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"tree"},[s("el-col",{attrs:{span:24}},[s("span",{staticClass:"text-reflect"},[t._v('欢迎来到 "小希打卡" 后台管理系统')])]),t._v(" "),s("iframe",{staticStyle:{float:"left","margin-left":"0px",width:"460px",height:"370px"},attrs:{scrolling:"no",frameborder:"0",width:"10%",height:"310px",src:"../../static/jquery/examples/spiderweb.html"}}),t._v(" "),s("iframe",{staticStyle:{float:"right","margin-right":"0px",width:"460px",height:"370px"},attrs:{scrolling:"no",frameborder:"0",width:"10%;",height:"310px",src:"../../static/jquery/examples/spiderweb.html"}}),t._v(" "),s("iframe",{staticStyle:{position:"relative",bottom:"35px",left:"0px","z-index":"1"},attrs:{scrolling:"no",frameborder:"0",width:"100%;",height:"500px",src:"../../static/jquery/examples/tree.html"}})],1)]),t._v(" "),s("el-col",{attrs:{span:10}},[s("div",{staticClass:"clockMain"},[s("div",{staticClass:"choose_"},[s("router-link",{attrs:{to:"login"}},[s("div",{class:t.login,staticStyle:{"border-right":"2px solid #A0B1C4"},on:{click:t.loginRoute}},[t._v("登录")])]),t._v(" "),s("router-link",{attrs:{to:"register"}},[s("div",{class:t.register,on:{click:t.registerRoute}},[t._v("注册")])])],1),t._v(" "),s("div",[s("router-view")],1)])])],1)],1)])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"wechat"},[s("img",{attrs:{src:a("q+ug")}}),t._v(" "),s("br"),t._v(" "),s("span",[t._v("开发者微信")])]),t._v(" "),s("div",{staticClass:"foot_"},[s("a",{attrs:{href:"#"}},[t._v("关于小希")]),t._v(" | "),s("a",{attrs:{href:"#"}},[t._v("服务条款")]),t._v(" | "),s("a",{attrs:{href:"#"}},[t._v("隐私策略")]),t._v(" | "),s("a",{attrs:{href:"#"}},[t._v("客服中心")]),t._v(" | "),s("a",{attrs:{href:"#"}},[t._v("联系我们")]),t._v(" | "),s("a",{attrs:{href:"#"}},[t._v("帮助中心")]),t._v(" | \n       "),s("span",[t._v("©2018 - 2019 Xiaoxi . All Rights Reserved.")])])])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(r,l,!1,function(t){a("RH3D")},"data-v-f306c302",null).exports,d=a("bOdI"),h=a.n(d),u=a("aozt"),p=a.n(u),m={name:"chief",data:function(){return{name:"",dialogVisible:!1,activeIndex:"1",index:"",group:"",search:"",message:"",about:"",groupEdit:"",groupAdd:"",groupDel:"",personCenter:""}},methods:h()({loginOut:function(){var t=this;this.dialogVisible=!1,p.a.post("administrator/loginOut",{status:"1"}).then(function(e){"1"==e.data.status?(t.$notify({title:"成功",message:"退出成功",type:"success"}),sessionStorage.setItem("Login",!1),sessionStorage.setItem("name",""),t.$router.push({name:"login"})):t.$notify.error({title:"错误",message:"退出失败"})}).catch(function(t){console.log(t)})},handleClose:function(t){this.dialogVisible=!1},handleOpen:function(t,e){console.log(t,e)}},"handleClose",function(t,e){console.log(t,e)}),mounted:function(){this.name=sessionStorage.getItem("name"),this.index=this.$route.params.name+"/index",this.$router.push({name:"index"})}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"head_",staticStyle:{"text-align":"left"}},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:a("ZBJ4")}}),t._v(" "),s("div",{staticClass:"headRight"},[s("span",[s("span",[t._v("你好，"+t._s(t.name))]),t._v("   |   "),s("span",{staticStyle:{cursor:"pointer"}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("退出")])],1)])])])])]),t._v(" "),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"navHead"},[t._v("\n      \t\t后台管理系统\n      \t")]),t._v(" "),s("div",{staticClass:"navBody"},[s("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"vertical",router:!0}},[s("el-menu-item",{attrs:{index:"/chief/index"}},[s("i",{staticClass:"el-icon-tickets"}),t._v("首页中心")]),t._v(" "),s("el-submenu",{attrs:{index:""}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-menu"}),t._v("我的工作台")]),t._v(" "),s("el-menu-item",{attrs:{index:"/chief/search"}},[s("i",{staticClass:"el-icon-search"}),t._v("搜索")]),t._v(" "),s("el-menu-item",{attrs:{index:"/chief/message"}},[s("i",{staticClass:"el-icon-bell"}),t._v("消息")]),t._v(" "),s("el-menu-item",{attrs:{index:"/chief/group"}},[s("i",{staticClass:"el-icon-zoom-in"}),t._v("部门")]),t._v(" "),s("el-menu-item",{attrs:{index:"/chief/user"}},[s("i",{staticClass:"el-icon-zoom-in"}),t._v("成员")]),t._v(" "),s("el-menu-item",{attrs:{index:"/chief/record"}},[s("i",{staticClass:"el-icon-date"}),t._v("记录")])],2),t._v(" "),s("el-menu-item",{attrs:{index:"/chief/personCenter"}},[s("i",{staticClass:"el-icon-tickets"}),t._v("个人中心")]),t._v(" "),s("el-menu-item",{attrs:{index:"/chief/about"}},[s("i",{staticClass:"el-icon-more"}),t._v("关于")])],1)],1)]),t._v(" "),s("el-col",{attrs:{span:20}},[s("router-view")],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"25%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("span",[t._v("您确定退出登录吗？")]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.loginOut}},[t._v("退出")])],1)])],1)},staticRenderFns:[]};var v=a("VU/8")(m,g,!1,function(t){a("FAEe")},"data-v-47ca5036",null).exports,f={name:"login",data:function(){return{loading:!1,clockAccount:"",clockPassword:"",clockcheck:"",noticeText:"",notice:!1,noticesuc:!1,loading_:!1,codeImg:""}},methods:{login:function(){this.loading_=!0,""==this.clockAccount||""==this.clockPassword?(this.noticeText="账号密码不能为空！",this.notice=!0,this.loading_=!1,this.noticesuc=!1):""==this.clockcheck||4!=this.clockcheck.length?(this.noticeText="验证码填写错误！",this.notice=!0,this.loading_=!1,this.noticesuc=!1):(this.noticeText="",this.notice=!1,p.a.post("administrator/login",{clockAccount:this.clockAccount,password:this.clockPassword,checkCode:this.clockcheck}).then(function(t){var e=this;"0"==t.data.status?(this.noticeText=t.data.msg,this.notice=!0,this.noticesuc=!1,this.clockAccount="",this.clockPassword="",this.clockcheck="",this.loading_=!1,this.getCheckCode()):"-1"==t.data.status?(alert(t.data.status),this.noticeText="登录失败。原因：未知",this.notice=!0,this.noticesuc=!1,this.loading_=!1,this.getCheckCode()):"-2"==t.data.status?(this.noticeText="验证码错误！",this.notice=!0,this.noticesuc=!1,this.clockcheck="",this.loading_=!1,this.getCheckCode()):"1"==t.data.status&&(this.$notify({title:"成功",message:"登录成功，你好"+t.data.result.name,type:"success"}),this.noticesuc=!0,this.noticeText="登录成功，正在跳转...",this.notice=!1,sessionStorage.setItem("Login",!0),setTimeout(function(){e.loading_=!1,sessionStorage.setItem("name",t.data.result.name),e.$router.push({name:"chief"})},800))}.bind(this)).catch(function(t){console.log(t),this.noticeText="登录失败。原因：未知",this.notice=!0,this.loading_=!1,this.noticesuc=!1}.bind(this)))},getCheckCode:function(){var t=this;p.a.get("administrator/checkCode").then(function(e){t.codeImg=e.data.img}).catch(function(t){console.log(t)})},open:function(){var t=this;this.$prompt("请输入您的意见","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){e.value.length>100?t.$message({message:"注意，文本过长",type:"warning"}):t.$message({type:"success",message:"感谢您的宝贵意见"})}).catch(function(){})},toResetPwd:function(){this.$router.push("resetPwd")}},mounted:function(){sessionStorage.setItem("Login",!1),this.getCheckCode()}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"loginTitle"},[t._v("\n  \t\tLogin In System\n  \t")]),t._v(" "),a("div",{staticClass:"loginForm"},[a("div",{staticClass:"demo-input-size"},[a("div",{staticClass:"account"},[a("el-input",{attrs:{size:"medium",placeholder:"请输入账号","suffix-icon":"el-icon-mobile-phone",maxlength:"11"},model:{value:t.clockAccount,callback:function(e){t.clockAccount=e},expression:"clockAccount"}})],1),t._v(" "),a("div",{staticClass:"password"},[a("el-input",{attrs:{size:"medium",type:"password",placeholder:"请输入密码","suffix-icon":"el-icon-edit",maxlength:"20"},model:{value:t.clockPassword,callback:function(e){t.clockPassword=e},expression:"clockPassword"}})],1),t._v(" "),a("div",{staticClass:"check"},[a("div",{staticClass:"checkCode"},[a("el-input",{attrs:{size:"medium",placeholder:"验证码","suffix-icon":"el-icon-message",maxlength:"4"},model:{value:t.clockcheck,callback:function(e){t.clockcheck=e},expression:"clockcheck"}})],1),t._v(" "),a("div",{staticClass:"checkCodeImg",domProps:{innerHTML:t._s(t.codeImg)},on:{click:t.getCheckCode}},[t._v("\n\t\t\t\t\t"+t._s(t.codeImg)+"\n\t\t\t\t")])]),t._v(" "),t.notice?a("div",{staticClass:"notice"},[t._v("\n  \t\t\t\t"+t._s(t.noticeText)+"\n  \t\t\t")]):t._e(),t._v(" "),t.noticesuc?a("div",{staticClass:"noticesuccess"},[t._v("\n  \t\t\t\t"+t._s(t.noticeText)+"\n  \t\t\t")]):t._e()])]),t._v(" "),a("div",{staticClass:"submitForm"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"medium",loading:t.loading_},on:{click:t.login}},[t._v("登陆")])],1),t._v(" "),a("div",{staticClass:"footText"},[a("span",{on:{click:t.toResetPwd}},[t._v("\n  \t\t\t忘记密码?\n  \t\t")]),t._v("    |   \n  \t\t"),a("span",[a("el-button",{attrs:{type:"text"},on:{click:t.open}},[t._v("意见反馈")])],1)])])},staticRenderFns:[]};var _=a("VU/8")(f,b,!1,function(t){a("/K78")},"data-v-43e1e071",null).exports,x={name:"register",data:function(){return{loading:!1,loading_:!1,clockAccount:"",clockPassword:"",clockRePassword:"",clockName:"",clockPhone:"",phone_:!1,clockPhonecheck:"",check_:!0,codeIng:!1,codeText:"获取验证码",time:60}},methods:{register:function(){var t=this;this.loading_=!0;if(""==this.clockAccount||""==this.clockPassword||""==this.clockRePassword||""==this.clockPhone||""==this.clockPhonecheck)this.loading_=!0,this.$notify({title:"警告",message:"信息填写未完整",type:"warning"}),setTimeout(function(){t.loading_=!1},5e3);else{if(this.clockPassword!=this.clockRePassword)return this.$notify({title:"警告",message:"两次输入密码不一致",type:"warning"}),this.clockPassword="",this.clockRePassword="",void(this.loading_=!1);if(0==/^[0-9a-zA-Z_]{1,}$/.test(this.clockPassword))return this.$notify({title:"警告",message:"密码格式错误，密码只包含数字和字母",type:"warning"}),this.clockPassword="",this.clockRePassword="",void(this.loading_=!1);if(0==/^[u4e00-u9fa5A-Za-z0-9_-]{3,10}$/.test(this.clockName))return this.$notify({title:"警告",message:"名字格式错误，名字只包含数字、字母和汉字",type:"warning"}),this.clockName="",void(this.loading_=!1);if(0==/^[0-9a-zA-Z_]{1,}$/.test(this.clockAccount))return this.$notify({title:"警告",message:"账号格式错误，账号只包含数字、字母",type:"warning"}),this.clockAccount="",void(this.loading_=!1);p.a.post("administrator/register",{clockAccount:this.clockAccount,clockPassword:this.clockPassword,clockName:this.clockName,clockPhone:this.clockPhone}).then(function(t){var e=this;"1"==t.data.status?(this.$notify({title:"注册成功",message:"恭喜"+this.clockName+",即将跳转到首页",type:"success"}),setTimeout(function(){e.loading_=!1,sessionStorage.setItem("Login",!0),e.$router.push({name:"chief",params:{name:t.data.result}})},1e3)):"0"==t.data.status?(this.$notify.error({title:"注册失败",message:"参数不能为空"}),this.loading_=!1):"-1"==t.data.status&&(this.$notify.error({title:"注册异常",message:"注册失败，请联系管理员"}),this.loading_=!1)}.bind(this)).catch(function(t){console.log(""+t),this.$notify.error({title:"服务器异常",message:"注册失败，请联系管理员"}),this.loading_=!1}.bind(this))}},getCheckCode:function(){this.check_=!1;if(0==/^1(?:3\d|4[4-9]|5[0-35-9]|6[67]|7[013-8]|8\d|9\d)\d{8}$/.test(this.clockPhone))return this.$notify({title:"警告",message:"手机号码格式错误",type:"warning"}),this.clockPhone="",this.loading_=!1,this.phone_=!1,void(this.check_=!0);p.a.post("administrator/phoneCheck",{clockPhone:this.clockPhone}).then(function(t){var e=this;if("1"==t.data.status){this.$notify({title:"成功",message:"手机验证码已发送，请留意手机",type:"success"}),this.codeIng=!0,this.codeText="",this.phone_=!0,this.check_=!1;var a=setInterval(function(){e.codeText="  "+e.time+" S",e.time=e.time-1,-2==e.time&&(clearInterval(a),e.time=5,e.codeText="获取验证码",e.codeIng=!1)},1e3)}else"0"==t.data.status?(this.phone_=!1,this.$notify({title:"错误",message:"参数不能为空",type:"warning"}),this.check_=!0):"-1"==t.data.status?(this.phone_=!1,this.$notify({title:"错误",message:"数据库检索异常",type:"warning"}),this.check_=!0):"-2"==t.data.status&&(this.phone_=!1,this.$notify({title:"错误",message:"该手机号已经注册",type:"warning"}),this.clockPhone="",this.check_=!0)}.bind(this)).catch(function(t){this.$notify({title:"错误",message:"发送验证码失败，服务器异常",type:"warning"}),this.clockPhone="",this.phone_=!1,this.check_=!0}.bind(this))}},mounted:function(){}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"registerTitle"},[t._v("\n  \t\tSign Up For System\n  \t")]),t._v(" "),a("div",{staticClass:"registerForm"},[a("div",{staticClass:"demo-input-size"},[a("div",{staticClass:"account"},[a("el-input",{attrs:{size:"medium",placeholder:"请输入账号","suffix-icon":"el-icon-document",maxlength:"11"},model:{value:t.clockAccount,callback:function(e){t.clockAccount=e},expression:"clockAccount"}})],1),t._v(" "),a("div",{staticClass:"password"},[a("el-input",{attrs:{size:"medium",type:"password",placeholder:"请输入密码","suffix-icon":"el-icon-edit",maxlength:"20"},model:{value:t.clockPassword,callback:function(e){t.clockPassword=e},expression:"clockPassword"}})],1),t._v(" "),a("div",{staticClass:"password"},[a("el-input",{attrs:{size:"medium",type:"password",placeholder:"请再次输入密码","suffix-icon":"el-icon-edit",maxlength:"20"},model:{value:t.clockRePassword,callback:function(e){t.clockRePassword=e},expression:"clockRePassword"}})],1),t._v(" "),a("div",{staticClass:"account"},[a("el-input",{attrs:{size:"medium",placeholder:"请输入姓名","suffix-icon":"el-icon-document",maxlength:"8"},model:{value:t.clockName,callback:function(e){t.clockName=e},expression:"clockName"}})],1),t._v(" "),a("div",{staticClass:"account"},[a("el-input",{attrs:{size:"medium",placeholder:"请输入手机号","suffix-icon":"el-icon-mobile-phone",maxlength:"11",disabled:t.phone_},model:{value:t.clockPhone,callback:function(e){t.clockPhone=e},expression:"clockPhone"}})],1),t._v(" "),a("div",{staticClass:"check"},[a("div",{staticClass:"checkCode"},[a("el-input",{attrs:{size:"medium",placeholder:"手机验证码","suffix-icon":"el-icon-message",maxlength:"4",disabled:t.check_},model:{value:t.clockPhonecheck,callback:function(e){t.clockPhonecheck=e},expression:"clockPhonecheck"}})],1),t._v(" "),a("div",{staticClass:"checkCodeImg",on:{click:t.getCheckCode}},[a("el-button",{attrs:{loading:t.codeIng}},[t._v(t._s(t.codeText))])],1)]),t._v(" "),a("div",{staticClass:"submitForm"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"medium",loading:t.loading_},on:{click:t.register}},[t._v("注册")])],1)])])])},staticRenderFns:[]};var y=a("VU/8")(x,w,!1,function(t){a("hNj1")},"data-v-8c9d95b8",null).exports,k={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  未开放\n")])},staticRenderFns:[]};var C=a("VU/8")({name:"resetPwd",data:function(){return{msg:""}}},k,!1,function(t){a("WPXZ")},"data-v-0169cddd",null).exports,P={name:"about",data:function(){return{activeNames:["1"]}},methods:{handleChange:function(t){console.log(t)}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:23}},[a("div",[a("el-collapse",{on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"一致性 Consistency",name:"1"}},[a("div",[t._v("与现实生活一致：与现实生活的流程、逻辑保持一致，遵循用户习惯的语言和概念；")]),t._v(" "),a("div",[t._v("在界面中一致：所有的元素和结构需保持一致，比如：设计样式、图标和文本、元素的位置等。")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"反馈 Feedback",name:"2"}},[a("div",[t._v("控制反馈：通过界面样式和交互动效让用户可以清晰的感知自己的操作；")]),t._v(" "),a("div",[t._v("页面反馈：操作后，通过页面元素的变化清晰地展现当前状态。")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"效率 Efficiency",name:"3"}},[a("div",[t._v("简化流程：设计简洁直观的操作流程；")]),t._v(" "),a("div",[t._v("清晰明确：语言表达清晰且表意明确，让用户快速理解进而作出决策；")]),t._v(" "),a("div",[t._v("帮助用户识别：界面简单直白，让用户快速识别而非回忆，减少用户记忆负担。")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"可控 Controllability",name:"4"}},[a("div",[t._v("用户决策：根据场景可给予用户操作建议或安全提示，但不能代替用户进行决策；")]),t._v(" "),a("div",[t._v("结果可控：用户可以自由的进行操作，包括撤销、回退和终止当前操作等。")])])],1)],1)])],1)],1)},staticRenderFns:[]};var S=a("VU/8")(P,A,!1,function(t){a("nwcW")},"data-v-24cf4af4",null).exports,E={name:"group",data:function(){return{loading:!0,dataExist:!0,bread:["我的工作台","部门","查看"],department:[],department_:[],view_:!0,delete_:!1,edit_:!1,dialogFormVisibleAdd:!1,typeOpen:0,form:{name:"",date:"",address:"",startTime:"",endTime:"",id:""},formLabelWidth:"80px",tableData:[],pageSize:10}},methods:{getGroup:function(){sessionStorage.getItem("Login")?p.a.get("administrator/getGroup").then(function(t){if("1"==t.data.status){if(""==t.data.result[0])this.dataExist=!1;else{this.dataExist=!0;for(var e=t.data.result[0],a=0;a<e.length;a++)e[a].name=t.data.result[1];if(e.length<=8?this.pageSize=10:this.pageSize=0==Math.floor(e.length%8)?10*Math.floor(e.length/8):10*Math.floor(e.length/8)+10,e.length<=8)this.department=e;else{this.department_=e;for(var s=0;s<8;s++)this.department[s]=e[s]}}this.loading=!1}else this.dataExist=!1,this.$message.error("获取部门失败，请联系管理员"),this.loading=!1}.bind(this)).catch(function(t){this.dataExist=!1,this.$message.error("服务器异常，获取部门失败，请联系管理员"),this.loading=!1}.bind(this)):(this.dataExist=!1,this.$message.error("非法进入，请先登录"))},look:function(){this.$message({message:"目前处于查看状态，点击部门查看详细信息",type:"warning"}),this.getGroup(),this.bread[2]="查看",this.view_=!0,this.delete_=!1,this.edit_=!1},add:function(){this.bread[2]="删除",this.form={name:"",date:"",address:"",startTime:"",endTime:"",id:""},this.typeOpen=0,this.dialogFormVisibleAdd=!0},del:function(){this.$message({message:"目前处于删除状态，选择点击部门可进行删除，请谨慎操作",type:"warning"}),this.bread[2]="删除",this.view_=!1,this.delete_=!0,this.edit_=!1},edit:function(){this.$message({message:"目前处于编辑状态，选择点击部门可进行编辑，请谨慎操作",type:"warning"}),this.bread[2]="编辑",this.view_=!1,this.delete_=!1,this.edit_=!0},editOne:function(t){p.a.get("department/getOneGroup",{params:{id:t}}).then(function(t){"1"==t.data.status?(this.dialogFormVisibleAdd=!0,this.form.name=t.data.result.name,this.form.date=t.data.result.clockDate.date,this.form.startTime=t.data.result.clockList[0].clockStart,this.form.endTime=t.data.result.clockList[0].clockEnd,this.form.address=t.data.result.address[0],this.form.id=t.data.result._id):this.$message.error("服务器异常，获取部门信息失败。"),this.loading=!1}.bind(this)).catch(function(t){this.$message.error("服务器异常，获取部门信息失败。"),this.loading=!1}.bind(this))},submitEdit:function(){var t=this;1==this.department_.every(function(e){return e.deptName!=t.form.name&&t.checkNull()})?this.submitEdit_():this.$message.error("部门信息错误，请检查后再次输入！")},submitEdit_:function(){p.a.post("department/editGroup",{name:this.form.name,clockDate:{date:this.form.date,duration:this.form.date.length,type:1},clockDayTimes:1,clockList:[{clockStart:this.form.startTime,clockEnd:this.form.endTime}],address:[this.form.address,0,0],id:this.form.id}).then(function(t){"1"==t.data.status?this.$message({message:"编辑部门成功",type:"success"}):this.$message.error("编辑部门失败，请联系管理员。")}.bind(this)).catch(function(t){this.$message.error("服务器异常，请联系管理员。")}.bind(this)),this.dialogFormVisibleAdd=!1,this.pageSize=10,this.getGroup(),this.bread[2]="查看",this.view_=!0,this.delete_=!1,this.edit_=!1},open:function(t,e){this.form={name:"",date:"",address:"",startTime:"",endTime:"",id:""},this.view_?this.view(t):this.delete_?this.delete(t):(this.typeOpen=1,this.editOne(t))},view:function(t){this.loading=!0,p.a.get("department/getOneGroup",{params:{id:t}}).then(function(t){"1"==t.data.status?(this.tableData=t.data.result.staffList,console.log(this.tableData),this.$alert("<p>部门名称："+t.data.result.name+"</p><p>管理人："+t.data.result.administrator.administratorName+"</p><p>管理人手机："+t.data.result.administrator.administratorPhone+"</p><p>打卡天数："+t.data.result.clockDate.duration+"</p><p>打卡日期："+t.data.result.clockDate.date+"</p><p>打卡时间："+t.data.result.clockList[0].clockStart+" 至 "+t.data.result.clockList[0].clockEnd+"</p><p>部门人数："+t.data.result.quantity+"</p><p>地址："+t.data.result.address[0]+"</p>",t.data.result.name,{dangerouslyUseHTMLString:!0})):this.$message.error("服务器异常，获取部门信息失败。"),this.loading=!1}.bind(this)).catch(function(t){this.$message.error("服务器异常，获取部门信息失败。"),this.loading=!1}.bind(this))},delete:function(t){var e=this;this.$confirm("此操作将永久删除该部门, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){p.a.post("department/deleteGroup",{id:t}).then(function(t){"1"==t.data.status?(this.$message({type:"success",message:"删除成功!"}),this.pageSize=10,this.getGroup()):this.$message.error("删除部门失败，请联系管理员。")}.bind(e)).catch(function(t){this.$message.error("删除部门失败，请联系管理员。")}.bind(e))}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},cancelAdd:function(){this.dialogFormVisibleAdd=!1,this.look()},submit_:function(t){var e=this;0==t?1==this.department_.every(function(t){return t.deptName!=e.form.name&&e.checkNull()})?this.submitAdd():this.$message.error("部门信息错误，请检查后再次输入！"):this.submitEdit()},checkNull:function(){for(var t in this.form)if("id"!=t&&""==this.form[t])return!1;return!0},submitAdd:function(){p.a.post("department/addGroup",{name:this.form.name,clockDate:{date:this.form.date,duration:this.form.date.length,type:1},clockDayTimes:1,clockList:[{clockStart:this.form.startTime,clockEnd:this.form.endTime}],quantity:0,staffList:[],address:[this.form.address,0,0]}).then(function(t){"1"==t.data.status?this.$message({message:"添加部门成功",type:"success"}):this.$message.error("添加部门失败，请联系管理员。")}.bind(this)).catch(function(t){this.$message.error("服务器异常，请联系管理员。")}.bind(this)),this.dialogFormVisibleAdd=!1,this.pageSize=10,this.getGroup(),this.bread[2]="查看",this.view_=!0,this.delete_=!1,this.edit_=!1},sizeChange:function(t){var e=this;this.department=[],this.loading=!0,setTimeout(function(){for(var a=0;a<8&&void 0!=e.department_[a+8*(t-1)];a++)e.department[a]=e.department_[a+8*(t-1)];e.loading=!1},500)}},mounted:function(){this.getGroup()}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",[s("el-col",{staticStyle:{"border-bottom":"1px solid #E6E6E6"},attrs:{span:24}},[s("el-row",[s("el-col",{attrs:{span:16}},[s("div",[s("div",{staticClass:"title"},[s("div",[s("el-breadcrumb",{staticStyle:{"font-size":"16px"},attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.bread,function(e){return s("el-breadcrumb-item",[t._v(t._s(e))])}))],1)])])]),t._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("div",{staticClass:"control"},[s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-view",size:"small"},on:{click:t.look}},[t._v("查看")]),t._v(" "),s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:t.add}},[t._v("添加")]),t._v(" "),s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-delete",size:"small"},on:{click:t.del}},[t._v("删除")]),t._v(" "),s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:t.edit}},[t._v("编辑")])],1)])])],1)],1),t._v(" "),t.dataExist?s("el-col",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"595px"},attrs:{span:24,"element-loading-text":"拼命加载中...","element-loading-spinner":"el-icon-loading"}},[s("el-row",{staticStyle:{margin:"10px 10px 0 10px"}},t._l(t.department,function(e,i){return s("el-col",{staticStyle:{margin:"10px 10px 0 10px"},attrs:{span:5}},[s("el-card",{staticStyle:{"border-color":"#e6e6e6",cursor:"pointer"},attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[s("img",{staticClass:"image",attrs:{src:a("0nT7")},on:{click:function(a){t.open(e.deptId,i)}}}),t._v(" "),s("div",{staticStyle:{padding:"14px"},on:{click:function(a){t.open(e.deptId,i)}}},[s("span",[t._v(t._s(e.deptName))]),t._v(" "),s("div",{staticClass:"bottom clearfix"},[s("time",{staticClass:"time"},[t._v("管理员 : "+t._s(e.name))]),t._v(" "),s("br"),t._v(" "),t.view_?s("span",{staticStyle:{float:"right"}},[s("i",{staticClass:"el-icon-view"})]):t._e(),t._v(" "),t.delete_?s("span",{staticStyle:{float:"right"}},[s("i",{staticClass:"el-icon-delete"})]):t._e(),t._v(" "),t.edit_?s("span",{staticStyle:{float:"right"}},[s("i",{staticClass:"el-icon-edit"})]):t._e()])])])],1)}))],1):t._e(),t._v(" "),t.dataExist?t._e():s("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:24}},[s("span",{staticStyle:{"font-size":"20px","letter-spacing":"7px","font-weight":"bold"}},[t._v("没有部门")])]),t._v(" "),s("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"20px",float:"left"},attrs:{span:24}},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pageSize},on:{"current-change":t.sizeChange}})],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"添加部门",visible:t.dialogFormVisibleAdd,width:"650px",top:"10vh"},on:{"update:visible":function(e){t.dialogFormVisibleAdd=e}}},[s("el-form",{attrs:{model:t.form}},[s("el-form-item",{attrs:{label:"部门名称","label-width":t.formLabelWidth}},[s("el-input",{attrs:{autocomplete:"off",maxlength:"8"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"打卡日期","label-width":t.formLabelWidth}},[s("el-date-picker",{attrs:{type:"dates",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",placeholder:"选择一个或多个日期"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"打卡时间","label-width":t.formLabelWidth}},[s("el-time-select",{attrs:{placeholder:"起始时间","picker-options":{start:"06:00",step:"00:15",end:"22:00"}},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}}),t._v(" "),s("el-time-select",{attrs:{placeholder:"结束时间","picker-options":{start:"06:00",step:"00:15",end:"22:00",minTime:t.form.startTime}},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"地址","label-width":t.formLabelWidth,maxlength:"50"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancelAdd}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submit_(t.typeOpen)}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var I=a("VU/8")(E,D,!1,function(t){a("AmMF")},"data-v-7216c830",null).exports,N={name:"user",data:function(){return{turnInto:!0,loading:!0,dataExist:!0,bread:["我的工作台","成员"],department:[],department_:[],view_:!0,depdId:"",tableData:[],pageSize:10}},methods:{add:function(){this.$router.push("search")},back:function(){this.turnInto||(this.turnInto=!0,this.tableData=[],this.bread.pop())},open:function(t,e){void 0!=t.deptId&&(this.depdId=t.deptId,this.turnInto=!1,this.bread.push(t.deptName),p.a.get("department/getStaffList",{params:{id:t.deptId}}).then(function(t){"1"==t.data.status?this.tableData=t.data.result:this.$message.error("错误："+t.data.msg+",获取员工失败，请联系管理员")}.bind(this)).catch(function(t){this.$message.error("服务器异常，获取员工失败，请联系管理员")}.bind(this)))},handleDelete:function(t,e){var a=this;this.$confirm("此操作将永久删除该成员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){p.a.post("administrator/leaveGroup",{depdId:a.depdId,userId:e.userId}).then(function(t){"1"==t.data.status?this.$message({message:"删除成功",type:"success"}):this.$message({message:"删除失败",type:"warning"});var e={deptId:this.depdId};this.open(e,0)}.bind(a)).catch(function(t){this.$message({message:"服务器异常，请联系管理员",type:"warning"})}.bind(a))}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},getGroup:function(){sessionStorage.getItem("Login")?p.a.get("administrator/getGroup").then(function(t){if("1"==t.data.status){if(""==t.data.result[0])this.dataExist=!1;else{for(var e=t.data.result[0],a=0;a<e.length;a++)e[a].name=t.data.result[1];if(e.length<=8?this.pageSize=10:this.pageSize=0==Math.floor(e.length%8)?10*Math.floor(e.length/8):10*Math.floor(e.length/8)+10,e.length<=8)this.department=e;else{this.department_=e;for(var s=0;s<8;s++)this.department[s]=e[s]}this.dataExist=!0}this.loading=!1}else this.$message.error("获取部门失败，请联系管理员"),this.loading=!1,this.dataExist=!1}.bind(this)).catch(function(t){this.$message.error("服务器异常，获取部门失败，请联系管理员"),this.loading=!1,this.dataExist=!1}.bind(this)):(this.$message.error("非法进入，请先登录"),this.dataExist=!1)},sizeChange:function(t){var e=this;this.department=[],this.loading=!0,setTimeout(function(){for(var a=0;a<8&&void 0!=e.department_[a+8*(t-1)];a++)e.department[a]=e.department_[a+8*(t-1)];e.loading=!1},500)}},mounted:function(){this.getGroup()}},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",[s("el-col",{staticStyle:{"border-bottom":"1px solid #E6E6E6"},attrs:{span:24}},[s("el-row",[s("el-col",{attrs:{span:19}},[s("div",{staticClass:"grid-content bg-purple"},[s("div",{staticClass:"title"},[s("div",[s("el-breadcrumb",{staticStyle:{"font-size":"16px"},attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.bread,function(e){return s("el-breadcrumb-item",[t._v(t._s(e))])}))],1)])])]),t._v(" "),s("el-col",{attrs:{span:5}},[s("div",{staticClass:"grid-content bg-purple"},[s("div",{staticClass:"control"},[s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"small"},on:{click:t.add}},[t._v("添加")]),t._v(" "),s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-back",size:"small"},on:{click:t.back}},[t._v("返回")])],1)])])],1)],1),t._v(" "),t.dataExist?s("el-col",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"595px"},attrs:{span:24,"element-loading-text":"拼命加载中...","element-loading-spinner":"el-icon-loading"}},[t.turnInto?s("el-row",{staticStyle:{margin:"10px 10px 0 10px"}},t._l(t.department,function(e,i){return s("el-col",{staticStyle:{margin:"10px 10px 0 10px"},attrs:{span:5}},[s("el-card",{staticStyle:{"border-color":"#e6e6e6",cursor:"pointer"},attrs:{"body-style":{padding:"0px"}}},[s("img",{staticClass:"image",attrs:{src:a("0nT7")},on:{click:function(a){t.open(e,i)}}}),t._v(" "),s("div",{staticStyle:{padding:"14px"},on:{click:function(a){t.open(e.deptId,i)}}},[s("span",[t._v(t._s(e.deptName))]),t._v(" "),s("div",{staticClass:"bottom clearfix"},[s("time",{staticClass:"time"},[t._v("管理员 : "+t._s(e.name))]),t._v(" "),s("br"),t._v(" "),t.view_?s("span",{staticStyle:{float:"right"}},[s("i",{staticClass:"el-icon-rank"})]):t._e()])])])],1)})):t._e(),t._v(" "),t.turnInto?t._e():s("el-row",{staticStyle:{margin:"10px 10px 0 10px"}},[s("el-col",{attrs:{span:24}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[s("el-table-column",{attrs:{prop:"image",label:"头像"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("img",{staticClass:"head_pic",attrs:{src:t.row.headImg}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),s("el-table-column",{attrs:{prop:"sex",label:"性别"}}),t._v(" "),s("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t._v(" "),s("el-table-column",{attrs:{prop:"phone",label:"手机"}}),t._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[s("i",{staticClass:"el-icon-delete"}),t._v("  删除")])]}}])})],1)],1)],1)],1):t._e(),t._v(" "),t.dataExist?t._e():s("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:24}},[s("span",{staticStyle:{"font-size":"20px","letter-spacing":"7px","font-weight":"bold"}},[t._v("没有成员")])]),t._v(" "),s("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"},attrs:{span:24}},[t.turnInto?s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pageSize},on:{"current-change":t.sizeChange}}):t._e()],1)],1)],1)},staticRenderFns:[]};var z=a("VU/8")(N,T,!1,function(t){a("kKYZ")},"data-v-4daa1ec2",null).exports,L={name:"record",data:function(){return{bread:["我的工作台","记录"],options:[],value:"",key:"",label:"",number:!0,place:!1,time:!1,activeName:"number",placeOption:{},timeOption:{},show_:!0,canSelect:!1}},methods:{getGroup:function(){this.options=[],p.a.get("administrator/getGroup").then(function(t){if("1"==t.data.status)if(""==t.data.result[0])this.$message.error("你目前不是部门管理员，请先创建部门。");else{for(var e=[],a=0;a<t.data.result[0].length;a++){var s={label:t.data.result[0][a].deptName,value:t.data.result[0][a].deptId};e.push(s)}this.options=e}else this.$message.error("获取部门列表失败，请联系管理员。")}.bind(this)).catch(function(t){this.$message.error("服务器异常："+t+"，请联系管理员。")}.bind(this))},to:function(){switch(this.canSelect=!1,this.activeName){case"number":document.getElementById("num").click();break;case"place":document.getElementById("plac").click();break;case"user":this.canSelect=!0,document.getElementById("user").click()}}},mounted:function(){this.getGroup()},watch:{value:function(){if(""==this.value)this.show_=!0;else{switch(this.show_=!0,this.activeName){case"number":this.$router.push({name:"numberChart",query:{id:this.value}});break;case"place":this.$router.push({name:"placeChart",query:{id:this.value}});break;case"user":this.$router.push({name:"userChart",query:{id:this.value}})}this.show_=!1}},activeName:function(){}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{staticStyle:{"border-bottom":"1px solid #E6E6E6"},attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:16}},[a("div",[a("div",{staticClass:"title"},[a("div",[a("el-breadcrumb",{staticStyle:{"font-size":"16px"},attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.bread,function(e){return a("el-breadcrumb-item",[t._v(t._s(e))])}))],1)])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",[a("div",{staticClass:"control"},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",disabled:t.canSelect},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)])])],1)],1),t._v(" "),t.show_?a("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:21}},[a("el-tag",{attrs:{type:"info"}},[t._v("请先选择一个部门")])],1):t._e(),t._v(" "),t.show_?t._e():a("el-col",{staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{span:21}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("router-link",{attrs:{id:"num",to:{name:"numberChart",query:{id:t.value}}}}),t._v(" "),a("router-link",{attrs:{id:"plac",to:{name:"placeChart",query:{id:t.value}}}}),t._v(" "),a("router-link",{attrs:{id:"user",to:{name:"userChart",query:{id:t.value}}}})],1),t._v(" "),a("router-view")],1),t._v(" "),a("el-col",{attrs:{span:3}},[t.show_?t._e():a("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"right"},on:{"tab-click":t.to},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"打卡人数记录",name:"number"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"打卡地点记录",name:"place"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"成员打卡记录",name:"user"}})],1)],1)],1)],1)},staticRenderFns:[]};var O=a("VU/8")(L,B,!1,function(t){a("EPV5")},"data-v-6fd5e4a3",null).exports,F={name:"numberChart",data:function(){return{hasChangeId:""}},methods:{drawNumber:function(){var t=this;console.log("人数检测到变化"+this.$route.query.id);var e=this.$echarts.init(document.getElementById("number"));p.a.get("departmentRecord/hasClocked",{params:{id:this.$route.query.id}}).then(function(a){if("1"==a.data.status){for(var s=[],i=[],n=0;n<a.data.result.length;n++)i.push(a.data.result[n].clockDate),s.push({clockDate:a.data.result[n].clockDate,number:0});for(var o=0;o<i.length;o++)for(var r=0;r<s.length;r++)i[o]==s[r].clockDate&&s[r].number++;for(var l=[],c=0;c<s.length;c++)l.push(s[c].number);var d={title:{text:"打卡人数",left:"center"},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}},right:"80px"},tooltip:{},xAxis:{type:"category",data:i,name:"日期"},yAxis:{type:"value",name:"人数"},series:[{data:l,type:"line"}]};e.setOption(d)}else t.$message.error("获取部门列表失败，请联系管理员。")}).catch(function(e){t.$message.error("服务器异常："+e+"，请联系管理员。")})}},mounted:function(){this.drawNumber()},watch:{$route:"drawNumber"}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{style:{width:"100%",height:"400px"},attrs:{id:"number"}})])],1)],1)},staticRenderFns:[]};var R=a("VU/8")(F,M,!1,function(t){a("JqyW")},"data-v-3d9d5236",null).exports,Q=a("Xxa5"),q=a.n(Q),V=a("//Fk"),G=a.n(V),U=a("exGp"),J=a.n(U),W={name:"placeChart",data:function(){return{}},methods:{drawPlace:function(){var t,e=(t=J()(q.a.mark(function t(){var e,a;return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new G.a(function(t,e){p.a.get("department/getOneGroup",{params:{id:s.$route.query.id}}).then(function(a){if("1"==a.data.status){var s=[];s.push(a.data.result.address[1]),s.push(a.data.result.address[2]);var i=[];i.push(s),t(i)}else e()}).catch(function(t){e()})});case 2:return e=t.sent,t.next=5,new G.a(function(t,e){p.a.get("departmentRecord/hasClocked",{params:{id:s.$route.query.id}}).then(function(a){if("1"==a.data.status){for(var s=[],i=0;i<a.data.result.length;i++){var n=a.data.result[i].clockAddress.split(",");n[0]=n[0].substring(1,n[0].length),n[1]=n[1].substring(0,n[0].length-2),s.push(n)}t(s)}else e()},function(t){e(t)})});case 5:return a=t.sent,t.abrupt("return",{arr1:e,arr2:a});case 7:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)});console.log("位置检测到变化"+this.$route.query.id);var a=void 0,s=this;e().then(function(t){var e=s.$echarts.init(document.getElementById("place"));a={title:{text:"打卡地点",left:"center"},xAxis:{scale:!0,name:"纬度"},yAxis:{scale:!0,name:"经度"},series:[{type:"effectScatter",symbolSize:20,data:t.arr1},{type:"scatter",data:t.arr2}]},e.setOption(a)},function(t){s.$message.error("服务器异常，获取部门信息失败。"),s.loading=!1})}},mounted:function(){this.drawPlace()},watch:{$route:"drawPlace"}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{style:{width:"100%",height:"400px"},attrs:{id:"place"}})])],1)],1)},staticRenderFns:[]};var j=a("VU/8")(W,Z,!1,function(t){a("mrEj")},"data-v-7876c370",null).exports,K={name:"userChart",data:function(){return{showChart:!1,users:[],id:"",id1:"",key:""}},methods:{getUser:function(){this.showChart||(this.id=this.$route.query.id,p.a.get("department/getStaffList",{params:{id:this.id}}).then(function(t){"1"==t.data.status?this.users=t.data.result:this.$message.error("错误："+t.data.msg+",获取员工失败，请联系管理员")}.bind(this)).catch(function(t){this.$message.error("服务器异常，获取员工失败，请联系管理员")}.bind(this)))},open:function(t){this.showChart=!0,this.key=t,this.$router.push({name:"userOneChart",query:{userId:t,depdId:this.id}})},back:function(){this.showChart=!1,this.$router.push({name:"userChart",query:{id:this.id}})}},mounted:function(){this.getUser()},watch:{$route:"getUser"}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{padding:"0px 10px 0px 10px"}},[t.showChart?t._e():a("el-col",{staticStyle:{"text-align":"left","font-size":"14px",margin:"0px 0px 10px 10px",color:"#C0C4CC"},attrs:{span:24}},[t._v("\n      *单击一个用户查看TA详细的打卡记录\n    ")]),t._v(" "),t.showChart?t._e():a("el-col",{attrs:{span:24}},t._l(t.users,function(e){return a("el-col",{staticStyle:{"margin-left":"10px"},attrs:{span:4}},[a("el-card",{attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[a("img",{staticClass:"image",attrs:{src:e.headImg}}),t._v(" "),a("div",{staticStyle:{padding:"8px",cursor:"pointer"},on:{click:function(a){t.open(e.userId)}}},[a("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"bottom clearfix"},[a("time",{staticClass:"time"},[t._v("手机: "+t._s(e.phone))]),t._v(" "),a("br"),t._v(" "),a("el-button",{staticClass:"button",attrs:{type:"text",icon:"el-icon-view",plain:""}})],1)])])],1)})),t._v(" "),t.showChart?a("el-col",{attrs:{span:22}},[a("router-view")],1):t._e(),t._v(" "),t.showChart?a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{icon:"el-icon-back",size:"mini"},on:{click:t.back}},[t._v("返回")])],1):t._e()],1)],1)},staticRenderFns:[]};var X=a("VU/8")(K,H,!1,function(t){a("BFbI")},"data-v-3cf8809f",null).exports,Y={name:"userOneChart",data:function(){return{}},methods:{drawLine:function(){var t=this.$echarts.init(document.getElementById("myChart"));p.a.get("departmentRecord/userHistory",{params:{userId:this.$route.query.userId,depdId:this.$route.query.depdId}}).then(function(e){if("1"==e.data.status){for(var a=e.data.result,s=[],i=[],n=0;n<a.length;n++)s.push(a[n].clockDate),i.push(a[n].clockTime.split(":").join(""));console.log(s+":"+i);var o={title:{text:"成员打卡时间记录",left:"center"},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}},right:"80px"},xAxis:{type:"category",data:s,name:"日期"},yAxis:{type:"value",name:"打卡时间"},series:[{data:i,type:"line",smooth:!0}]};t.setOption(o)}else this.$message.error("错误："+e.data.msg+",获取员工失败，请联系管理员")}.bind(this)).catch(function(t){this.$message.error("服务器异常，获取员工失败，请联系管理员")}.bind(this)),t.setOption(this.userOption)}},mounted:function(){console.log("userId:"+this.$route.query.userId+"depdId:"+this.$route.query.depdId),this.drawLine()},watch:{}},tt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{style:{width:"100%",height:"400px"},attrs:{id:"myChart"}})])],1)],1)},staticRenderFns:[]};var et=a("VU/8")(Y,tt,!1,function(t){a("Ba8g")},"data-v-ea79190a",null).exports,at={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("iframe",{staticStyle:{"margin-left":"0px","margin-top":"20px",float:"left"},attrs:{src:"../../static/date/index.html",scrolling:"no",frameborder:"0",width:"600px",height:"800px"}}),this._v(" "),e("iframe",{staticStyle:{"margin-right":"50px",float:"right"},attrs:{src:"../../static/clock/index.html",scrolling:"no",frameborder:"0",width:"200px",height:"200px"}})])}]};var st=a("VU/8")({name:"index",data:function(){return{msg:""}}},at,!1,function(t){a("DGRM")},"data-v-2f37037e",null).exports,it={name:"message",data:function(){return{bread:["我的工作台","消息","已处理"],treat:"已处理",showTreat:!0,tableData1:[],tableData2:[],tableData1_:[],tableData2_:[],page1:10,page2:10,loading1:!1,loading2:!1}},methods:{getMsg:function(){this.tableData1=[],this.tableData2=[],this.tableData1_=[],this.tableData2_=[],this.page1=10,this.page2=10,this.loading1=!0,this.loading2=!0,p.a.get("initiativeMsg/getMsg").then(function(t){var e=this;if("1"==t.data.status)if(0==t.data.result.length)this.$message({message:"没有消息哟",type:"warning"}),this.loading1=!1,this.loading2=!1;else{for(var a=0;a<t.data.result.length;a++)if(-1==t.data.result[a].type){var s="你向"+t.data.result[a].userName+"发出了邀请",i=t.data.result[a];if(i.type=s,i.date=i.date.slice(0,10),this.tableData2.push(i),this.tableData2.reverse(),this.page2=this.tableData2.length%8==0?10*Math.floor(this.tableData2.length/8):10*Math.floor(this.tableData2.length/8)+10,this.tableData2.length>8)for(var n=0;n<8;n++)this.tableData2_.push(this.tableData2[n]);else for(var o=0;o<this.tableData2.length;o++)this.tableData2_.push(this.tableData2[o])}else switch(t.data.result[a].type){case 0:var r="你成功邀请"+t.data.result[a].userName+"加入"+t.data.result[a].departmentName;(l=t.data.result[a]).type=r,l.date=l.date.slice(0,10),this.tableData1.push(l);break;case 1:r=t.data.result[a].userName+"拒绝加入"+t.data.result[a].departmentName;(l=t.data.result[a]).type=r,l.date=l.date.slice(0,10),this.tableData1.push(l);break;case 2:r="取消邀请"+t.data.result[a].userName+"加入"+t.data.result[a].departmentName;(l=t.data.result[a]).type=r,l.date=l.date.slice(0,10),this.tableData1.push(l);break;case 3:r=t.data.result[a].userName+"退出了"+t.data.result[a].departmentName;(l=t.data.result[a]).type=r,l.date=l.date.slice(0,10),this.tableData1.push(l);break;case 4:var l;r=t.data.result[a].userName+"被踢出了"+t.data.result[a].departmentName;(l=t.data.result[a]).type=r,l.date=l.date.slice(0,10),this.tableData1.push(l)}this.tableData1.reverse(),setTimeout(function(){if(e.loading1=!1,e.loading2=!1,e.page1=e.tableData1.length%8==0?10*Math.floor(e.tableData1.length/8):10*Math.floor(e.tableData1.length/8)+10,e.tableData1.length>8)for(var t=0;t<8;t++)e.tableData1_.push(e.tableData1[t]);else for(var a=0;a<e.tableData1.length;a++)e.tableData1_.push(e.tableData1[a])},400)}else this.$message.error("获取异常:"+t.data.msg+"，请联系管理员")}.bind(this)).catch(function(t){this.$message.error("服务器异常，请联系管理员")}.bind(this))},handleDelete:function(t,e){var a=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){p.a.post("initiativeMsg/deleteMsg",{id:e._id}).then(function(t){"1"==t.data.status?(this.$message({type:"success",message:"删除成功!"}),this.getMsg()):this.$message({type:"success",message:"删除失败!原因:"+t.data.msg})}.bind(a)).catch(function(t){this.$message.error("服务器异常，请联系管理员")}.bind(a))}).catch(function(){a.$message({type:"success",message:"已取消删除"})})},handleCancel:function(t,e){var a=this;this.$confirm("此操作将取消邀请该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){p.a.post("administrator/cancelInvite",{id:e._id,passivityMsgId:e.passivityMsgId}).then(function(t){"1"==t.data.status?(this.$message({type:"success",message:"取消成功!"}),this.getMsg()):this.$message({type:"success",message:"取消失败!原因:"+t.data.msg})}.bind(a)).catch(function(t){this.$message.error("服务器异常，请联系管理员")}.bind(a))}).catch(function(){a.$message({type:"success",message:"已取消删除"})})},sizeChange1:function(t){var e=this;this.loading1=!0,setTimeout(function(){if(e.loading1=!1,8*t>e.tableData1.length){e.tableData1_=[];for(var a=8*(t-1),s=0;a<e.tableData1.length;a++,s++)e.tableData1_[s]=e.tableData1[a]}else{e.tableData1_=[];for(var i=8*(t-1),n=0;i<8*(t-1)+8;i++,n++)e.tableData1_[n]=e.tableData1[i]}},400)},sizeChange2:function(t){var e=this;this.loading2=!0,setTimeout(function(){if(e.loading2=!1,8*t>e.tableData2.length){e.tableData2_=[];for(var a=8*(t-1),s=0;a<e.tableData2.length;a++,s++)e.tableData2_[s]=e.tableData2[a]}else{e.tableData2_=[];for(var i=8*(t-1),n=0;i<8*(t-1)+8;i++,n++)e.tableData2_[n]=e.tableData2[i]}},400)}},watch:{treat:function(t){"已处理"==this.treat?(this.bread[2]="已处理",this.showTreat=!0):(this.bread[2]="待处理",this.showTreat=!1)}},mounted:function(){this.getMsg()}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{staticStyle:{"border-bottom":"1px solid #E6E6E6"},attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:17}},[a("div",[a("div",{staticClass:"title"},[a("div",[a("el-breadcrumb",{staticStyle:{"font-size":"16px"},attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.bread,function(e){return a("el-breadcrumb-item",[t._v(t._s(e))])}))],1)])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("div",{staticClass:"control",staticStyle:{float:"right"}},[a("el-radio-group",{model:{value:t.treat,callback:function(e){t.treat=e},expression:"treat"}},[a("el-radio-button",{attrs:{label:"已处理"}}),t._v(" "),a("el-badge",{attrs:{value:t.tableData2.length}},[a("el-radio-button",{attrs:{label:"待处理",value:12}})],1)],1)],1)])])],1)],1),t._v(" "),t.showTreat?a("el-col",{attrs:{span:24}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading1,expression:"loading1"}],staticStyle:{width:"100%"},attrs:{data:t.tableData1_,border:""}},[a("el-table-column",{attrs:{prop:"date",label:"日期",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"departmentName",label:"申请部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"administratorName",label:"管理者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userPhone",label:"用户手机"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"内容",width:"400"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-delete"}),t._v("  删除\n    \t\t\t\t    ")])]}}])})],1),t._v(" "),a("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"20px",float:"left"},attrs:{span:24}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.page1},on:{"current-change":t.sizeChange1}})],1)],1)]):t._e(),t._v(" "),t.showTreat?t._e():a("el-col",{attrs:{span:24}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading2,expression:"loading2"}],staticStyle:{width:"100%"},attrs:{data:t.tableData2_,border:""}},[a("el-table-column",{attrs:{prop:"date",label:"日期",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"departmentName",label:"申请部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"administratorName",label:"管理者"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userPhone",label:"用户手机"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"内容",width:"400"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleCancel(e.$index,e.row)}}},[a("i",{staticClass:"el-icon-delete"}),t._v("  取消\n    \t\t\t\t    ")])]}}])})],1)],1),t._v(" "),a("el-col",{staticStyle:{"margin-top":"10px","margin-bottom":"20px",float:"left"},attrs:{span:24}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.page2},on:{"current-change":t.sizeChange2}})],1)],1)],1)],1)},staticRenderFns:[]};var ot=a("VU/8")(it,nt,!1,function(t){a("lWLL")},"data-v-0bcaa66d",null).exports,rt={name:"personCenter",data:function(){return{bread:["个人中心"],editing:!0,showPhoneEdit:!1,editPhoneWord:"点击更改",editPasswordWord:"点击更改",showPasswordEdit:!1,span1:"22",span2:"2",check_:!0,clockAccount:"",backupsClockAccount:"",name:"",backupsName:"",oldPhone:"",backupsOldPhone:"",newPhone:"",phoneCheck:"",password:"",oldPassword:"",newPassword:"",reNewPassword:"",newObj:{clockAccount:"",name:"",phone:"",password:""}}},mounted:function(){this.getAdmin()},methods:{getAdmin:function(){p.a.get("administrator/getAdmin").then(function(t){"1"==t.data.status?(this.backupsClockAccount=t.data.result.clockAccount,this.backupsName=t.data.result.name,this.backupsOldPhone=t.data.result.phone,this.clockAccount=t.data.result.clockAccount,this.name=t.data.result.name,this.oldPhone=t.data.result.phone,this.password=t.data.result.clockPassword):this.$message.error("获取信息异常:"+t.data.msg+"，请联系管理员")}.bind(this)).catch(function(t){this.$message.error("服务器异常，请联系管理员")}.bind(this))},edit:function(){this.editing=!1,this.span1="21",this.span2="3",this.bread.push("编辑")},cancel:function(){var t=this;this.$confirm("此操作将放弃编辑, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.editing=!0,t.span1="22",t.span2="2",t.bread.pop(),t.showPhoneEdit=!1,t.showPasswordEdit=!1,t.editPhoneWord="点击更改",t.editPasswordWord="点击更改",t.clockAccount=t.backupsClockAccount,t.name=t.backupsName,t.oldPhone=t.backupsOldPhone,t.check_=!0}).catch(function(){})},finish:function(){var t=this;if(this.showPhoneEdit&&(""==this.newPhone||""==this.phoneCheck))return this.$message({message:"新手机号内容不能为空",type:"warning"}),this.newPhone="",void(this.phoneCheck="");if(this.showPhoneEdit?this.newObj.phone=this.newPhone:this.newObj.phone=this.oldPhone,this.showPasswordEdit&&(""==this.oldPassword||""==this.newPassword||""==this.reNewPassword))return this.$message({message:"密码不能为空",type:"warning"}),this.oldPassword="",this.newPassword="",void(this.reNewPassword="");if(this.showPasswordEdit){if(this.password!=this.oldPassword)return this.$message({message:"原密码错误",type:"warning"}),void(this.oldPassword="");if(this.oldPassword==this.newPassword)return this.$message({message:"新密码不能和旧密码相同",type:"warning"}),this.newPassword="",void(this.reNewPassword="");if(this.newPassword!=this.reNewPassword)return this.$message({message:"两次输入的密码不一致",type:"warning"}),this.newPassword="",void(this.reNewPassword="");this.newObj.password=this.newPassword}else this.newObj.password=this.password;""!=this.name?(this.newObj.name=this.name,this.newObj.clockAccount=this.clockAccount,p.a.post("administrator/editAdmin",{clockAccount:this.newObj.clockAccount,name:this.newObj.name,clockPassword:this.newObj.password,phone:this.newObj.phone}).then(function(e){"1"==e.data.status?(t.getAdmin(),t.$message({type:"success",message:"修改成功!"}),t.editing=!0,t.span1="22",t.span2="2",t.bread.pop(),t.showPhoneEdit=!1,t.showPasswordEdit=!1,t.editPhoneWord="点击更改",t.editPasswordWord="点击更改",t.clockAccount=t.backupsClockAccount,t.name=t.backupsName,t.oldPhone=t.backupsOldPhone,t.check_=!0):t.$message({message:"修改失败",type:"warning"})}).catch(function(e){t.$message({message:"修改异常",type:"warning"})})):this.$message({message:"名字不能为空",type:"warning"})},editPhone:function(){this.editing?this.$message({message:"请先开启编辑状态",type:"warning"}):this.showPhoneEdit?(this.showPhoneEdit=!1,this.editPhoneWord="点击更改",this.newPhone="",this.phoneCheck="",this.check_=!0):(this.showPhoneEdit=!0,this.editPhoneWord="放弃更改")},editPhoneCheck:function(){this.oldPhone==this.newPhone?(this.$message({message:"新手机号码不能和旧手机号码一样",type:"warning"}),this.newPhone=""):(this.check_=!1,this.$message({message:"手机验证码已发送，请留意手机短信",type:"success"}))},editPassword:function(){this.editing?this.$message({message:"请先开启编辑状态",type:"warning"}):this.showPasswordEdit?(this.showPasswordEdit=!1,this.editPasswordWord="点击更改",this.oldPassword="",this.newPassword="",this.reNewPassword=""):(this.showPasswordEdit=!0,this.editPasswordWord="放弃更改")}}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{staticStyle:{"border-bottom":"1px solid #E6E6E6"},attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:t.span1}},[a("div",[a("div",{staticClass:"title"},[a("div",[a("el-breadcrumb",{staticStyle:{"font-size":"16px"},attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.bread,function(e){return a("el-breadcrumb-item",[t._v(t._s(e))])}))],1)])])]),t._v(" "),a("el-col",{attrs:{span:t.span2}},[a("div",[a("div",{staticClass:"control"},[t.editing?a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-edit",size:"small"},on:{click:t.edit}},[t._v("编辑")]):t._e(),t._v(" "),t.editing?t._e():a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),t.editing?t._e():a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.finish}},[t._v("完成")])],1)])])],1)],1),t._v(" "),a("el-col",{staticStyle:{margin:"15px 0 10px 10px"},attrs:{span:12}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"inputWord"},[t._v("账号：")])]),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入内容",disabled:"",clearable:""},model:{value:t.clockAccount,callback:function(e){t.clockAccount=e},expression:"clockAccount"}})],1),t._v(" "),a("el-col",{staticStyle:{margin:"15px 0 10px 0px"},attrs:{span:6}},[a("div",{staticClass:"inputWord"},[t._v("姓名：")])]),t._v(" "),a("el-col",{staticStyle:{margin:"15px 0 10px 0px"},attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入姓名",disabled:t.editing,clearable:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("el-col",{staticStyle:{margin:"15px 0 10px 10px"},attrs:{span:13}},[a("div",{staticClass:"inputWord",staticStyle:{color:"#999999"}},[t._v("*修改姓名可能会影响用户对您的识别")])])],1),t._v(" "),a("el-col",{staticStyle:{"border-left":"1px solid #E6E6E6","padding-left":"30px"},attrs:{span:8}},[a("el-col",{staticStyle:{margin:"18px 0 10px 0px"},attrs:{span:10}},[a("div",{staticClass:"inputWord",staticStyle:{"margin-top":"7px"}},[t._v("手机号："+t._s(t.oldPhone))])]),t._v(" "),a("el-col",{staticStyle:{margin:"18px 0 10px 0px"},attrs:{span:14}},[a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.editPhone}},[t._v(t._s(t.editPhoneWord))])],1),t._v(" "),t.showPhoneEdit?a("el-col",{staticStyle:{margin:"15px 0 10px 20px",border:"1px solid #e6e6e6",padding:"15px 0 15px 0","box-shadow":"darkgrey 10px 10px 30px 5px"},attrs:{span:24}},[a("el-col",{staticStyle:{"font-size":"14px","padding-top":"6px"},attrs:{span:5}},[a("span",[t._v("新手机：")])]),t._v(" "),a("el-col",{attrs:{span:13}},[a("el-input",{attrs:{placeholder:"请输入新的手机号",size:"small",clearable:"",maxLength:"11"},model:{value:t.newPhone,callback:function(e){t.newPhone=e},expression:"newPhone"}})],1),t._v(" "),a("el-col",{attrs:{span:5}},[a("el-button",{attrs:{type:"primary",plain:"",size:"small",disabled:!t.check_},on:{click:t.editPhoneCheck}},[t._v("验证码")])],1),t._v(" "),a("el-col",{staticStyle:{"font-size":"14px","padding-top":"6px","margin-top":"15px"},attrs:{span:5}},[a("span",[t._v("验证码：")])]),t._v(" "),a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:7}},[a("el-input",{attrs:{placeholder:"验证码",size:"small",disabled:t.check_,clearable:"",maxLength:"6"},model:{value:t.phoneCheck,callback:function(e){t.phoneCheck=e},expression:"phoneCheck"}})],1)],1):t._e(),t._v(" "),a("el-col",{staticStyle:{margin:"18px 0 10px 0px"},attrs:{span:10}},[a("div",{staticClass:"inputWord",staticStyle:{"margin-top":"7px"}},[t._v("密码：*")])]),t._v(" "),a("el-col",{staticStyle:{margin:"18px 0 10px 0px"},attrs:{span:14}},[a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.editPassword}},[t._v(t._s(t.editPasswordWord))])],1),t._v(" "),t.showPasswordEdit?a("el-col",{staticStyle:{margin:"15px 0 10px 20px",border:"1px solid #e6e6e6",padding:"15px 0 15px 0","box-shadow":"darkgrey 10px 10px 30px 5px"},attrs:{span:24}},[a("el-col",{staticStyle:{"font-size":"14px","padding-top":"6px"},attrs:{span:8}},[a("span",[t._v("原密码 ：")])]),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入原密码",size:"small",clearable:"",maxLength:"20"},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}})],1),t._v(" "),a("el-col",{staticStyle:{"font-size":"14px","padding-top":"6px","margin-top":"15px"},attrs:{span:8}},[a("span",[t._v("新密码：")])]),t._v(" "),a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请输入新密码",size:"small",clearable:"",maxLength:"20"},model:{value:t.newPassword,callback:function(e){t.newPassword=e},expression:"newPassword"}})],1),t._v(" "),a("el-col",{staticStyle:{"font-size":"14px","padding-top":"6px","margin-top":"15px"},attrs:{span:8}},[a("span",[t._v("再次输入新密码：")])]),t._v(" "),a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:15}},[a("el-input",{attrs:{placeholder:"请再次输入新密码",size:"small",clearable:"",maxLength:"20"},model:{value:t.reNewPassword,callback:function(e){t.reNewPassword=e},expression:"reNewPassword"}})],1)],1):t._e()],1)],1)],1)},staticRenderFns:[]};var ct=a("VU/8")(rt,lt,!1,function(t){a("go+L")},"data-v-d279fc74",null).exports,dt={name:"search",data:function(){return{loading:!1,bread:["我的工作台","搜索"],type:"姓名",_type:"姓名",search:"",_search:"",userList:[],userList_:[],dataExist:!1,groupList:[],user:{},dialogFormVisible:!1,form:{id:"",name:""},formLabelWidth:"120px",sexMale:"male",sexFemale:"female",pageSize:10}},methods:{search_:function(){this.loading=!0,this.user={},"姓名"!=this.type&&"手机"!=this.type?this.$message.error("参数错误！"):""==this.search?this.$message.error("搜索内容不能为空！"):p.a.get("user/searchUser",{params:{type:this.type,value:this.search}}).then(function(t){if("1"==t.data.status){this.userList_=t.data.result;for(var e=0;e<this.userList_.length;e++)"male"==this.userList_[e].sex?this.userList_[e].sex="男":this.userList_[e].sex="女";if(0==t.data.result.length&&this.$message.error("搜索不到此用户！"),this.userList_.length<=4)this.pageSize=10,this.userList=this.userList_;else{this.userList=[],this.pageSize=this.userList_.length%4==0?10*Math.floor(this.userList_.length/4):10*Math.floor(this.userList_.length/4)+10;for(var a=0;a<4;a++)this.userList.push(this.userList_[a])}}else this.$message.error("搜索失败，"+t.data.msg+"！");this.loading=!1,this._type=this.type,this.type="姓名",this._search=this.search,this.search=""}.bind(this)).catch(function(t){this.$message.error("服务器异常，请联系管理员。"),this.loading=!1})},add:function(t){p.a.get("administrator/getGroup").then(function(e){"1"==e.data.status?""==e.data.result[0]?(this.$message.error("你目前不是部门管理员，请先创建部门。"),this.dialogFormVisible=!1):(this.groupList=e.data.result[0],this.dialogFormVisible=!0,this.user=t):this.$message.error("获取部门列表失败，请联系管理员。")}.bind(this)).catch(function(t){this.$message.error("服务器异常："+t+"，请联系管理员。")}.bind(this))},cancelAdd:function(){this.groupList=[],this.form.id="",this.dialogFormVisible=!1},submitAdd:function(){for(var t="",e="",a=0;a<this.groupList.length;a++)this.groupList[a].deptId==this.form.id&&(t=this.groupList[a].deptId,e=this.groupList[a].deptName);""!=this.form.id?(p.a.post("administrator/inviteUser",{userId:this.user._id,userName:this.user.name,userPhone:this.user.phone,departmentId:t,departmentName:e}).then(function(t){"1"==t.data.status?this.$message({message:"邀请成功，等待用户同意加入",type:"success"}):"0"==t.data.status&&this.$message.error("已经邀请过该用户啦！")}.bind(this)).catch(function(t){this.$message.error("服务器异常，请联系管理员。")}.bind(this)),this.groupList=[],this.form.id="",this.dialogFormVisible=!1):this.$message.error("请选择一个部门。")},sizeChange:function(t){if(4*t>this.userList_.length){this.userList=[];for(var e=4*(t-1);e<this.userList_.length;e++)this.userList.push(this.userList_[e])}else{this.userList=[];for(var a=4*(t-1);a<4*(t-1)+4;a++)this.userList.push(this.userList_[a])}}},watch:{userList:function(t){0==this.userList.length?this.dataExist=!1:this.dataExist=!0}},mounted:function(){}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{staticStyle:{"border-bottom":"1px solid #E6E6E6"},attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"title"},[a("div",[a("el-breadcrumb",{staticStyle:{"font-size":"16px"},attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.bread,function(e){return a("el-breadcrumb-item",[t._v(t._s(e))])}))],1)])])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("div",[a("div",{staticClass:"control",staticStyle:{float:"right"}},[a("el-radio-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-radio-button",{attrs:{label:"姓名"}}),t._v(" "),a("el-radio-button",{attrs:{label:"手机"}})],1)],1)])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("div",[a("div",{staticClass:"control"},[a("el-input",{attrs:{placeholder:"请输入内容",maxlength:"11"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search",loading:t.loading},on:{click:t.search_},slot:"append"})],1)],1)])])],1)],1)],1),t._v(" "),t.dataExist?a("el-row",{staticStyle:{margin:"10px 0 0 20px"}},[a("el-col",{attrs:{span:1}},[a("el-tag",[t._v(t._s(t._type))])],1),t._v(" "),a("el-col",{attrs:{span:1}},[a("el-tag",[t._v(t._s(t._search))])],1)],1):t._e(),t._v(" "),t.dataExist?a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{margin:"10px 10px 0 10px"}},t._l(t.userList,function(e){return a("el-col",{key:e._id,staticStyle:{margin:"10px 10px 0 10px"},attrs:{span:5}},[a("el-card",{class:"男"==e.sex?t.sexMale:t.sexFemale,attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[a("img",{staticClass:"image",attrs:{src:e.headImg}}),t._v(" "),a("div",{staticStyle:{padding:"14px"}},[a("span",{staticStyle:{"font-weight":"bold","letter-spacing":"3px"}},[a("img",{staticStyle:{position:"relative",top:"10px",left:"0px"},attrs:{src:"男"==e.sex?"../../static/img/male.png":"../../static/img/female.png"}}),t._v(" "),a("span",{},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"bottom clearfix",staticStyle:{"line-height":"18px","letter-spacing":"2px"}},[a("time",{staticClass:"time"},[t._v("微信名称："+t._s(e.nickName))]),a("br"),t._v(" "),a("time",{staticClass:"time"},[t._v("手机："+t._s(e.phone))]),a("br"),t._v(" "),a("time",{staticClass:"time"},[t._v("年龄："+t._s(e.age))]),a("br"),t._v(" "),a("time",{staticClass:"time"},[t._v("性别："+t._s(e.sex))]),a("br"),t._v(" "),a("el-button",{staticStyle:{"margin-top":"6px"},attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"small"},on:{click:function(a){t.add(e)}}},[t._v("添加")])],1)])])],1)})):t._e(),t._v(" "),t.dataExist?t._e():a("el-row",[a("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:24}},[a("span",[a("el-tag",{attrs:{type:"info",size:"medium"}},[t._v("没 有 数 据")]),t._v(" "),a("br")],1)])],1),t._v(" "),a("el-col",{staticStyle:{"margin-top":"50px"},attrs:{span:24}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pageSize},on:{"current-change":t.sizeChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"选择一个部门",visible:t.dialogFormVisible,width:"35%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"部门","label-width":t.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择部门"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}},t._l(t.groupList,function(t){return a("el-option",{attrs:{label:t.deptName,value:t.deptId}})}))],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelAdd}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitAdd}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var ut=a("VU/8")(dt,ht,!1,function(t){a("Qchy")},"data-v-74b73604",null).exports;s.default.use(o.a);var pt=new o.a({routes:[{path:"/",name:"home",component:c,redirect:"/login",children:[{path:"login",name:"login",component:_},{path:"register",name:"register",component:y}]},{path:"/chief",name:"chief",meta:{requireAuth:!0},component:v,children:[{path:"index",name:"index",meta:{requireAuth:!0},component:st},{path:"message",name:"message",meta:{requireAuth:!0},component:ot},{path:"search",name:"search",meta:{requireAuth:!0},component:ut},{path:"group",name:"group",meta:{requireAuth:!0},component:I},{path:"user",name:"user",meta:{requireAuth:!0},component:z},{path:"record",name:"record",meta:{requireAuth:!0},children:[{path:"numberChart",name:"numberChart",component:R},{path:"placeChart",name:"placeChart",component:j},{path:"userChart",name:"userChart",children:[{path:"userOneChart",name:"userOneChart",component:et}],component:X}],component:O},{path:"personCenter",name:"personCenter",meta:{requireAuth:!0},component:ct},{path:"about",name:"about",meta:{requireAuth:!0},component:S}]},{path:"/resetPwd",name:"resetPwd",meta:{requireAuth:!1},component:C}]}),mt=a("zL8q"),gt=a.n(mt);s.default.prototype.$axios=p.a;var vt=a("aVq5"),ft=a.n(vt);a("tvR6");s.default.config.productionTip=!1,s.default.prototype.$echarts=ft.a,s.default.use(gt.a),pt.beforeEach(function(t,e,a){t.meta.requireAuth?"true"==sessionStorage.getItem("Login")?a():a({path:"/"}):a()}),new s.default({el:"#app",router:pt,axios:{},components:{App:n},template:"<App/>"})},Q4qa:function(t,e){},Qchy:function(t,e){},RH3D:function(t,e){},WPXZ:function(t,e){},ZBJ4:function(t,e){t.exports="data:image/png;base64,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"},"go+L":function(t,e){},hNj1:function(t,e){},kKYZ:function(t,e){},lWLL:function(t,e){},mrEj:function(t,e){},nwcW:function(t,e){},"q+ug":function(t,e,a){t.exports=a.p+"static/img/wechat.34f2bee.jpg"},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ccce727afc9a25f75da0.js.map